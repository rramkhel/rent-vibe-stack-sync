<!-- Tab 3: Platform Mappings -->

<!-- Section 1: Introduction -->
<section class="content-section">
    <h2 class="section-title">Same Data, Different Displays</h2>
    <p class="section-subtitle">The canonical system stores detailed data. Each platform decides how much detail to show.</p>

    <div class="callout callout-amber has-icon">
        <div class="callout-icon">&#x1F3AF;</div>
        <div>
            <div class="callout-title">The Problem We're Solving</div>
            <div class="callout-text">
                A "Yurt" needs to display as "House" on Rentals.ca (renters don't search for yurts),
                but should remain "Yurt" on a niche glamping site. The canonical system stores "Yurt" —
                each platform's mapping decides what to show.
            </div>
        </div>
    </div>
</section>

<!-- Section 2: Legend -->
<section class="content-section">
    <h3 class="section-title">Legend</h3>
    <div class="tag-cloud" style="margin-bottom: 24px;">
        <span style="color: #15803d; font-weight: 500;">Green text</span> = same name on platform as canonical &nbsp;&nbsp;
        <span style="color: #d97706; font-weight: 500;">Amber text</span> = renamed for this platform &nbsp;&nbsp;
        <span style="color: #2563eb; font-weight: 500;">Blue text</span> = collapsed into a parent category &nbsp;&nbsp;
        <span style="color: #9ca3af; font-style: italic;">Gray italic</span> = hidden / not shown on this platform
    </div>
</section>

<hr class="divider">

<!-- Section 3: Mapping Tables by Structure Type -->
<section class="content-section">
    <h2 class="section-title">Mapping by Structure Type</h2>
    <p class="section-subtitle">How each structure type group maps across the four platform families.</p>

    <!-- House -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">House</div>
                <div class="card-subtitle">Standalone single-dwelling structures</div>
            </div>
            <span class="badge badge-purple">Residential</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>detached</code></td>
                        <td style="color: #15803d;">House → Detached</td>
                        <td style="color: #15803d;">House</td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>mobile</code></td>
                        <td style="color: #15803d;">Mobile Home</td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>garden_home</code></td>
                        <td style="color: #15803d;">Garden Home</td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Townhouse / Plex -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Townhouse / Plex</div>
                <div class="card-subtitle">Attached housing, 2-6 units, shares walls</div>
            </div>
            <span class="badge badge-purple">Residential</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>semi</code></td>
                        <td style="color: #15803d;">Semi House</td>
                        <td style="color: #2563eb;">House <em>or</em> Duplex</td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>townhouse</code></td>
                        <td style="color: #15803d;">Town House</td>
                        <td style="color: #15803d;">Townhouse</td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>duplex</code></td>
                        <td style="color: #15803d;">Duplex</td>
                        <td style="color: #15803d;">Duplex</td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>triplex</code></td>
                        <td style="color: #15803d;">Triplex</td>
                        <td style="color: #2563eb;">House <em>or</em> Multi-Unit <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>fourplex</code></td>
                        <td style="color: #15803d;">Fourplex</td>
                        <td style="color: #2563eb;">House <em>or</em> Multi-Unit <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Apartment Building -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Apartment Building</div>
                <div class="card-subtitle">Multi-unit rental buildings, 5+ units</div>
            </div>
            <span class="badge badge-purple">Residential</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>low_rise</code></td>
                        <td style="color: #15803d;">Low Rise Apartment</td>
                        <td style="color: #2563eb;">Apartment <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>mid_rise</code></td>
                        <td style="color: #15803d;">Mid Rise Apartment</td>
                        <td style="color: #2563eb;">Apartment <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>high_rise</code></td>
                        <td style="color: #15803d;">High Rise Apartment</td>
                        <td style="color: #2563eb;">Apartment <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>walkup</code></td>
                        <td style="color: #d97706;">Low Rise Apartment <span style="color: var(--gray-400); font-size: 11px;">(renamed)</span></td>
                        <td style="color: #2563eb;">Apartment <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Cottage / Cabin -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Cottage / Cabin</div>
                <div class="card-subtitle">Recreational and rural dwellings</div>
            </div>
            <span class="badge badge-purple">Residential</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>cottage</code></td>
                        <td style="color: #15803d;">Cottage</td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Cottage</td>
                    </tr>
                    <tr>
                        <td><code>cabin</code></td>
                        <td style="color: #15803d;">Cabin</td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Cabin</td>
                    </tr>
                    <tr>
                        <td><code>aframe</code></td>
                        <td style="color: #d97706;">Cabin <span style="color: var(--gray-400); font-size: 11px;">(renamed)</span></td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">A-Frame</td>
                    </tr>
                    <tr>
                        <td><code>chalet</code></td>
                        <td style="color: #d97706;">Cabin <span style="color: var(--gray-400); font-size: 11px;">(renamed)</span></td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Chalet</td>
                    </tr>
                    <tr>
                        <td><code>yurt</code></td>
                        <td style="color: #d97706;">Cabin <span style="color: var(--gray-400); font-size: 11px;">(renamed)</span></td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Yurt</td>
                    </tr>
                    <tr>
                        <td><code>treehouse</code></td>
                        <td style="color: #d97706;">Cabin <span style="color: var(--gray-400); font-size: 11px;">(renamed)</span></td>
                        <td style="color: #2563eb;">House <span style="color: var(--gray-400); font-size: 11px;">(collapsed)</span></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Treehouse</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Office Building -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Office Building</div>
                <div class="card-subtitle">Professional workspace properties</div>
            </div>
            <span class="badge badge-amber">Commercial</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>class_a</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Office — Class A</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>class_b</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Office — Class B</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>class_c</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Office — Class C</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>coworking</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Co-working</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Retail -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Retail</div>
                <div class="card-subtitle">Consumer-facing commercial spaces</div>
            </div>
            <span class="badge badge-amber">Commercial</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>storefront</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Retail — Storefront</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>mall</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Retail — Mall</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>strip_mall</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Retail — Strip Mall</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Industrial -->
    <div class="card">
        <div class="card-header">
            <div>
                <div class="card-title">Industrial</div>
                <div class="card-subtitle">Manufacturing, storage, and distribution</div>
            </div>
            <span class="badge badge-amber">Commercial</span>
        </div>
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Subtype</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Network</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>warehouse</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Industrial — Warehouse</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>manufacturing</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Industrial — Manufacturing</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>flex</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Industrial — Flex</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                    <tr>
                        <td><code>storage</code></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td class="text-muted"><em>hidden</em></td>
                        <td style="color: #15803d;">Industrial — Storage</td>
                        <td class="text-muted"><em>hidden</em></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<hr class="divider">

<!-- Section 4: Unit Type Overrides -->
<section class="content-section">
    <h2 class="section-title">Unit Type Overrides</h2>
    <p class="section-subtitle">How Unit Types affect ILS display — some unit types override the structure type.</p>

    <div class="card">
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Canonical Unit Type</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Display</span></th>
                        <th><span class="badge badge-amber">Spacelist</span></th>
                        <th><span class="badge badge-gray">WoodCabins</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>entire</code></td>
                        <td>Entire Unit</td>
                        <td><em>(implied — not shown separately)</em></td>
                        <td>Entire</td>
                        <td><em>(implied)</em></td>
                    </tr>
                    <tr>
                        <td><code>main_floor</code></td>
                        <td>Main Floor</td>
                        <td><strong style="color: #7c3aed;">Overrides to Apt Type: "Main Floor"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>suite</code></td>
                        <td>Suite</td>
                        <td><em>(uses parent structure type)</em></td>
                        <td>Suite</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>basement</code></td>
                        <td>Basement</td>
                        <td><strong style="color: #7c3aed;">Overrides to Property Type: "Apartment", Apt Type: "Basement"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>loft</code></td>
                        <td>Loft</td>
                        <td><strong style="color: #7c3aed;">Overrides to Apt Type: "Loft"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>studio</code></td>
                        <td>Studio</td>
                        <td><strong style="color: #7c3aed;">Overrides to Apt Type: "Studio"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>garden_suite</code></td>
                        <td>Garden Suite</td>
                        <td><strong style="color: #7c3aed;">Overrides to Apt Type: "Garden Suite"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>garage_suite</code></td>
                        <td>Garage Suite</td>
                        <td><strong style="color: #7c3aed;">Overrides to Apt Type: "Garage Suite"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>room_private</code></td>
                        <td>Room</td>
                        <td><strong style="color: #7c3aed;">Overrides to Property Type: "Room"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>room_shared</code></td>
                        <td>Room (Shared)</td>
                        <td><strong style="color: #7c3aed;">Overrides to Property Type: "Room"</strong></td>
                        <td class="text-muted">n/a</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>floor</code></td>
                        <td>Floor</td>
                        <td class="text-muted">n/a</td>
                        <td>Floor</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                    <tr>
                        <td><code>spot</code></td>
                        <td>Spot</td>
                        <td class="text-muted">n/a</td>
                        <td>Spot</td>
                        <td class="text-muted">n/a</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="callout callout-purple has-icon" style="margin-top: 16px;">
        <div class="callout-icon">&#x1F4A1;</div>
        <div>
            <div class="callout-title">Why This Matters</div>
            <div class="callout-text">
                On ILS sites, "Room" and "Basement" aren't structure types — they're Unit Types that override the display. A "Room" in a Townhouse displays as Property Type: "Room" on Rentals.ca, not "Townhouse." This is how we support third-party feeds like Roomies without needing "Room" as a Structure Type.
            </div>
        </div>
    </div>
</section>

<hr class="divider">

<!-- Section 5: Ownership Display Overrides -->
<section class="content-section">
    <h2 class="section-title">Ownership Display Overrides</h2>
    <p class="section-subtitle">How ownership attributes affect platform display.</p>

    <div class="card">
        <div class="card-body" style="padding: 0;">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Ownership Value</th>
                        <th><span class="badge badge-teal">BSTK / RentSync</span></th>
                        <th><span class="badge badge-green">ILS Display</span></th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>condo</code></td>
                        <td>Ownership field: "Condo"</td>
                        <td><strong style="color: #7c3aed;">Overrides to Property Type: "Condo"</strong></td>
                        <td>Replaces structure type in ILS display</td>
                    </tr>
                    <tr>
                        <td><code>coop</code></td>
                        <td>Ownership field: "Co-op"</td>
                        <td>Category tag: "Co-op Housing"</td>
                        <td>Adds filter tag, doesn't replace type</td>
                    </tr>
                    <tr>
                        <td><code>freehold</code></td>
                        <td>Ownership field: "Freehold"</td>
                        <td><em>(no override — uses structure type)</em></td>
                        <td>Default behavior</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="callout callout-amber has-icon" style="margin-top: 16px;">
        <div class="callout-icon">&#x1F3E2;</div>
        <div>
            <div class="callout-title">"Condo" on ILS = Ownership, not Structure</div>
            <div class="callout-text">
                When a renter searches for "Condo" on Rentals.ca, the system queries all listings where <code>ownership = condo</code>, regardless of structure type. This means high-rises, townhouses, and even houses can appear in Condo search results.
            </div>
        </div>
    </div>
</section>

<hr class="divider">

<!-- Section 6: How to Add a Platform -->
<section class="content-section">
    <h2 class="section-title">How to Add a Platform</h2>

    <div class="callout callout-teal has-icon">
        <div class="callout-icon">&#x2795;</div>
        <div>
            <div class="callout-title">Adding a new platform requires zero schema changes</div>
            <div class="callout-text">
                Decide which canonical values are visible, pick display names, add rows to the mapping table. Everything not explicitly mapped is hidden by default. WoodCabins.ca demonstrates this — it only sees Cottage/Cabin subtypes while everything else is invisible.
            </div>
        </div>
    </div>
</section>
